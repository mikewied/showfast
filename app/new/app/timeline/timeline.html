<div class="masthead text-center">
	<h2>Performance Dashboard</h3>
</div>
<div class="text-center">
	<div class="btn-group" data-toggle="buttons-radio">
		<button
			ng-repeat="(category, subcategory) in categories"
			ng-class="{active: category === selectedCategory}"
			ng-click="categorySelected(category)"
			class="btn btn-success">{{category}}</button>
	</div>
	<div class="btn-group" data-toggle="buttons-radio">
		<button
			ng-repeat="os in oses"
			ng-class="{active: os == selectedOS}"
			ng-click="setSelectedOS(os)"
			class="btn btn-warning">{{os}}</button>
	</div>
</div>

<div class="text-center">
	<div class="btn-group" data-toggle="buttons-radio">
		<button
			ng-repeat="(subcategory, filter) in categories[selectedCategory]"
			ng-class="{active: subcategory === selectedSubCategory}"
			ng-click="subCategorySelected(subcategory)"
			class="btn">{{subcategory}}</button>
	</div>
</div>

<div class="masthead metric" id="cont_{{metric.id}}" ng-repeat="metric in metrics">
  <hr/>
  <h4>
    <span id="{{metric.id}}" data-larger-is-better="{{metric.larger_is_better}}">
      {{metric.title}}
    </span>
  </h4>
  <span class="muted"><strong>Cluster: </strong>{{clusters[metric.cluster].Name}}</span>
  <span class="muted"><strong>Platform: </strong>{{clusters[metric.cluster].Platform}}</span>
  <span class="muted"><strong>OS: </strong>{{clusters[metric.cluster].OS}}</span>
  <span class="muted"><strong>CPU: </strong>{{clusters[metric.cluster].CPU}}</span>
  <span class="muted"><strong>Memory: </strong>{{clusters[metric.cluster].Memory}}</span>
  <span class="muted"><strong>Disk: </strong>{{clusters[metric.cluster].Disk}}</span>
  <div class="column-chart" id="chart_{{$index}}">
    <nvd3-discrete-bar-chart
      data="timelines[metric.id]"
      id="chart_{{$index}}"
      margin="{left: 50, top: 5, bottom: 15, right: 0}"
      color="['#50aa43']"
      showXAxis="true"
      showYAxis="true"
      showValues="true"
      forceY="[0]"
      noData="No data found">
      <svg></svg>
    </nvd3-line-chart>
  </div>
  <a id="run_{{metric.id}}"></a>
</div>


